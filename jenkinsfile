pipeline {
    agent any
        stages {
            stage('Remote SSH Execution') {
                steps {
                    script {
                        def remote = [
                            name: 'RemoteServer',
                            host: '192.168.224.134',
                            user: 'root',
                            password: 'Admin@123',
                            allowAnyHosts: true
                        ]
                        sshCommand remote: remote, command: "hostname && uptime"
                    }
                }
            }    
        
        stage('Test') {
            steps {
              sh patching.sh
            }
        }
        stage('post patching') {
            steps {
                sh post-checks.sh
            }
        }
    }
    post {
        always {
            echo "Patching has been completed successfully"
        }
    }
}
